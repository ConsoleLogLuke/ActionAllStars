package com.sdg.media{	import flash.events.Event;	import flash.media.Sound;	import flash.media.SoundChannel;	import flash.media.SoundLoaderContext;	import flash.media.SoundTransform;	import flash.net.URLRequest;		public class SoundExt extends Sound	{		private var _channel:SoundChannel;		private var _loop:Boolean;		private var _transform:SoundTransform;				public function get loop():Boolean		{			return _loop;		}				public function set loop(value:Boolean):void		{			_loop = true;		}				public function get volume():Number		{			return _transform.volume;		}				public function set volume(value:Number):void		{			_transform.volume = value;		}				public function SoundExt(stream:URLRequest = null, context:SoundLoaderContext = null, 								 volume:Number = 1, loop:Boolean = false)		{			super(stream, context);			_transform = new SoundTransform(volume);			_loop = loop;		}				override public function play(startTime:Number = 0, loops:int = 0, transform:SoundTransform = null):SoundChannel		{			if (transform) _transform = transform;			_channel = super.play(startTime, loops, _transform);			_channel.addEventListener(Event.SOUND_COMPLETE, soundCompleteHandler);			return _channel;		}				public function stop():void		{			if (_channel)			{				_channel.stop();				_channel.removeEventListener(Event.SOUND_COMPLETE, soundCompleteHandler);			}		}				protected function soundCompleteHandler(event:Event):void		{			_channel.removeEventListener(Event.SOUND_COMPLETE, soundCompleteHandler);			if (_loop) play();		}	}}