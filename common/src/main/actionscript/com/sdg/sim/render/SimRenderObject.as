package com.sdg.sim.render{	import com.sdg.display.render.RenderData;	import com.sdg.display.render.RenderObject;	import com.sdg.events.SimEvent;	import com.sdg.sim.core.SimEntity;		import flash.display.DisplayObject;		public class SimRenderObject extends RenderObject	{		private var _data:SimRenderData;		private var _entity:SimEntity;				public function get entity():SimEntity		{			return _data.entity;		}				public function set entity(value:SimEntity):void		{			entityChanged(value);		}				public function SimRenderObject(display:DisplayObject, entity:SimEntity = null):void		{			_data = new SimRenderData(display);						this.entity = entity;						super(_data);		}				protected function entityChanged(entity:SimEntity):void		{			if (_data.entity)			{				_data.entity.removeEventListener(SimEvent.VALIDATED, validatedHandler);			}						_data.entity = entity;			_data.simData = (entity) ? entity.data : null;						if (entity)			{				entity.addEventListener(SimEvent.VALIDATED, validatedHandler, false, 0, true);			}		}				protected function validatedHandler(event:SimEvent):void		{			var flags:int = _data.simData.flags;						if (flags & (SimEntity.AABB_RESIZED_FLAGS))			{				_data.flags |= RenderData.RENDER_FLAG;			}		}	}}